<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Login Layout</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/public/css/login.css" />
  </head>
  <body>
    <div class="login-container">
      <h2>Intruder Alarm Login</h2>
         <br/>
        <form id="loginForm" method="POST" action="/login.html">
        <label for="username">Username</label><br />
        <input type="text" name="username" id="username" required /><br /><br />

        <label for="password">Password</label><br />
        <input
          type="password"
          name="password"
          id="password"
          required
        />
        <button type="button" onclick="togglePassword()" class="btn btn-secondary btn-sm mb-2">Show/Hide Password</button>
        <br /><br />

        <button type="submit" class="btn btn-primary w-100">Login</button>
      </form>

      <div id="message"></div>
    </div>
    <!-- Inline JS starts here -->
    <script>
      const users = [
        { username: "admin", password: "1234" },
        { username: "user1", password: "password" }
      ];

      document.getElementById("loginForm").addEventListener("submit", function (e) {
        e.preventDefault();

        const username = document.getElementById("username").value.trim();
        const password = document.getElementById("password").value.trim();
        const message = document.getElementById("message");

        const user = users.find(u => u.username === username && u.password === password);

        if (user) {
          message.style.color = "lime";
          message.textContent = "Login successful!";
          setTimeout(() => {
            window.location.href = "/public/UI.html"; //redirect to UI page
          }, 500);
        } else {
          message.style.color = "red";
          message.textContent = "Invalid username or password";
        }
      });

      // Toggle password visibility
      function togglePassword() {
        const passwordInput = document.getElementById("password");
        const type = passwordInput.getAttribute("type") === "password" ? "text" : "password";
        passwordInput.setAttribute("type", type);
      }
    </script>
    <!-- Inline JS ends here -->
  </body>
</html>